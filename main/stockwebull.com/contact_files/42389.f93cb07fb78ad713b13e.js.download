(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[42389,52626],{894615:t=>{t.exports={}},849960:t=>{t.exports={"css-value-copyright-transition-params":".6s 0s cubic-bezier(.4, .01, .22, 1)","css-value-copyright-transition-params-half-time":".3s 0s cubic-bezier(.4, .01, .22, 1)",label:"label-dzbd7lyV",logoWrap:"logoWrap-dzbd7lyV",expandedWithTransition:"expandedWithTransition-dzbd7lyV",expandedByClick:"expandedByClick-dzbd7lyV",start:"start-dzbd7lyV",end:"end-dzbd7lyV",snap:"snap-dzbd7lyV",top:"top-dzbd7lyV",bottom:"bottom-dzbd7lyV",large:"large-dzbd7lyV",expanded:"expanded-dzbd7lyV",label__link:"label__link-dzbd7lyV"}},527247:t=>{t.exports={}},901574:t=>{t.exports={}},285778:t=>{t.exports={wrapper:"wrapper-PQ5O_1M7",touch:"touch-PQ5O_1M7"}},745269:(t,e,i)=>{"use strict";i.d(e,{dur:()=>n,easingFunc:()=>s});const n=350,s={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t*t:(4-2*t)*t-1,easeInCubic:t=>t*t*t,easeOutCubic:t=>--t*t*t+1,easeInOutCubic:t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1- --t*t*t*t,easeInOutQuart:t=>t<.5?8*t*t*t*t:1-8*--t*t*t*t,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1+--t*t*t*t*t,easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},62889:(t,e,i)=>{"use strict";i.d(e,{CopyrightPosition:()=>n,copyrightLabel:()=>l});var n,s=i(497754),o=i(995683),r=i(389137),a=i(849960);function l({svgText:t,icon:e,theme:i,url:l,mode:h,verticalPosition:_=n.Vertical.Bottom,horizontalPosition:d=n.Horizontal.End,snapToEdge:c=!0,isExpanded:p=!1,className:u}){let g;switch(h){case"new":case"with_border":g=(0,r.clone)(i);break;default:g=(0,o.mergeThemes)((0,r.clone)(a),i)}const m=document.createElement("span");let f;l&&(f=document.createElement("a"),f.classList.add(g.label__link),f.href=l,f.target="_blank",f.rel="noopener noreferrer",f.setAttribute("data-target-type","copyright"),m.append(f)),m.className=s(g.label,d===n.Horizontal.Start&&g.start,d===n.Horizontal.End&&g.end,_===n.Vertical.Top&&g.top,_===n.Vertical.Bottom&&g.bottom,c&&g.snap,"large_old"===h&&g.large,p&&g.expanded,u,"js-copyright-label"),m.addEventListener("click",(()=>{function t(){m.classList.remove(g.expandedByClick),m.removeEventListener("mouseleave",t)}m.classList.contains(g.expandedWithTransition)||m.classList.contains(g.expanded)||(m.classList.contains(g.expandedByClick)?l||t():(m.classList.add(g.expandedByClick),m.addEventListener("mouseleave",t)))}));const b=document.createElement("span");b.className=g.logoWrap,b.innerHTML=e;const v=document.createElement("span");return v.className=g.svgTextWrap,v.innerHTML=t,m.append(b,v),[m,g]}!function(t){let e,i;!function(t){t[t.Bottom=0]="Bottom",t[t.Top=1]="Top"}(e=t.Vertical||(t.Vertical={})),function(t){t[t.Start=0]="Start",t[t.End=1]="End"}(i=t.Horizontal||(t.Horizontal={}))}(n||(n={}))},351079:(t,e,i)=>{"use strict";i.d(e,{CopyrightPosition:()=>s.CopyrightPosition,createCopyrightLabel:()=>a});var n=i(497754),s=i(62889),o=i(650401),r=i(952598);function a({isSheriffDisabled:t=!1,...e}){const[i,a]=(0,s.copyrightLabel)(e)
;return t||(0,o.getWidgetSheriffActions)().then((t=>{i.className=n(i.className,t.includes(r.KnownAction.Expand)&&a.expandedWithTransition)})),i}},650401:(t,e,i)=>{"use strict";i.d(e,{getWidgetSheriffActions:()=>_});var n=i(125226),s=i(120780),o=i(201089),r=i(952598);const a=window.WIDGET_SHERIFF_HOST||"https://www.xstaging-widget.tv",l=(0,o.getLogger)("WidgetSheriff.Widget");let h=null;async function _(){return null===h&&(h=await async function(){if(!(0,n.isFeatureEnabled)("widget-sheriff"))return Promise.resolve([]);const t=document.location.ancestorOrigins&&document.location.ancestorOrigins.length?document.location.ancestorOrigins[document.location.ancestorOrigins.length-1]:null;if(null===t)return l.logWarn("ancestorOrigin is undefined"),Promise.resolve([]);const e=new URL("/sheriff/api/v1/rules/search",a);e.searchParams.append("origin",t);return(await(0,s.fetch)(e.toJSON()).then((t=>{if(!t.ok)throw new Error("Guard request error occured");return 204===t.status?Promise.resolve({actions:[]}):t.json()})).catch((t=>(l.logWarn(t.message),Promise.resolve({actions:[]}))))).actions.filter((t=>r.widgetSheriffActions.has(t)))}()),Promise.resolve(h)}},952598:(t,e,i)=>{"use strict";var n;i.d(e,{KnownAction:()=>n,widgetSheriffActions:()=>s}),function(t){t.Expand="expand-logo"}(n||(n={}));const s=new Set([n.Expand])},125226:(t,e,i)=>{"use strict";var n=i(49437).TVLocalStorage,s=i(707957),o=i(855385);i(638456);var r=new s;TradingView.FeatureToggle={force_prefix:"forcefeaturetoggle.",onChanged:new s,enableFeature:function(t){n.setItem(this.force_prefix+t,"true"),r.fire(t)},disableFeature:function(t){n.setItem(this.force_prefix+t,"false"),r.fire(t)},resetFeature:function(t){n.removeItem(this.force_prefix+t),r.fire(t)},onFeaturesStateChanged:function(){return r}},TradingView.isFeatureEnabled=function(t){var e="featuretoggle_seed";function s(t){try{var i=o(t+function(){if(window.user&&window.user.id)return window.user.id;var t=n.getItem(e);return null!==t||(t=Math.floor(1e6*Math.random()),n.setItem(e,t)),t}());return new DataView(i).getUint32(0,!0)/4294967296}catch(t){return.5}}function a(e){return!("local"!==window.environment||!function(t){
var e=["tick_intervals","show_reset_chart_only_if_required","broker_FXCM_token_v2","broker_TRADESTATION","broker_TRADOVATE_dev","black_friday_mainpage","black_friday_popup","datawindow","trading-fast-renew-oauth-token","switching_year_to_month_disabled","default_year_billing_cycle_switcher","marketing-analytics","visible_address_fields_by_default","slow-support-warning","hide-trading-floating-toolbar","save-short-streams","details_disable_bid_ask","vat_disabled","pro_plan_upgrades_disabled","pro_plan_downgrades_disabled","disable_recaptcha_on_signup","braintree-gopro-in-order-dialog","braintree-apple-pay","braintree-apple-pay-trial","braintree-3ds-enabled","trial_increased_monthly_discounts","hide_gopro_popup_upgrade_button","tradestation_use_sync_mapper","broker_id_session","remove_line_tools_from_content","disable_retry_load_linetools_from_storage","modular_broker_use_sync_mapper","do_not_save_shared_line_tools_to_charts","save_shared_line_tools","chart_storage_with_broker_name","oanda-european-accounts-warning","mobile_show_bottom_panel","disable_save_settings","desktop_version_notification_enabled","favorites-in-broker-dropdown","enable_toggle_streams_rtmp_url","hide_ecomonic_events","mobile_trading_web","mobile_trading_ios","mobile_trading_android","hide_real_brokers_on_mobile","disable_tradestation_country_block","enable_trading_server_logger","hide_ranges_label_colors","disable_user_specific_encryption","minds_widget_enabled","no_overlap_mode_enabled","collapse_pane_buttons_when_connected_to_broker","enable_new_execution_style","disable_pushstream_connections_for_anonymous_users","use_new_paper_status_mapping","use_staging_verifier","fxcm_fcl_api","ally_use_new_sso_url","ibkr_use_new_init_session_api","enable_eventsource_pushstream_transport","enable_eventsource_pushstream_mobile","ftx_request_server_logger","ibkr_request_server_logger","disallow_concurrent_sessions","check_ibkr_side_maintenance","tradestation_request_server_logger","trading_request_server_logger","hide_tweet_drawingtool","RU_SF_disable","RU_VOR_disable","enable_monaco_editor","enable_import_inlay_hints","enable_pine_editor_status_bar","enable_pine_logs","enable_new_custom_public_chats","bottom_panel_track_events","continuous_front_contract_trading","vertex-tax-included","enable_place_order_context_in_instant_mode","multiple_SoS","enable_edit_order_context_in_instant_mode","show_data_problems_in_help_center","enable_trading_in_replay","chart_storage_hibernation_delay_60min","chart_storage_hibernation_delay_10min","chart_storage_hibernation_delay_5min","widget-sheriff","enable_sign_in_popup_with_evercookie","center_alignment_replay_position","start_replay_right_after_point_selection","switching_raf_toast","show_trading_buttons_in_am","order_type_specific_settings_saving","enable_share_idea_via_twitter","hide_position_trade_value","alerts-restrict-offline-clear-requests","show_alert_clock_icon","alerts-logos-in-widgets","enable_qty_calculator_in_replay","alerts-widgets-use-facade","alerts-facade-use-permission-proxy","forexcom_session_v2","add_financials_for_symbols","hide_percent_bottom_toolbar","hide_log_bottom_toolbar","hide_auto_bottom_toolbar","remove_lines_submenu","new_idea_publish_page","new_script_publish_page","enable_logo_in_mobile_apps","show_symbol_logo_in_legend","fxcm_fcl_server_logger","minds_comments_enable_for_free_users"],i="[A-Z]+[a-zA-Z0-9_]+",n=new RegExp(`broker_${i}_dev`,"g"),s=new RegExp(`hide_${i}_on_ios`,"g"),o=new RegExp(`hide_${i}_on_android`,"g"),r=new RegExp(`hide_${i}_on_mobile_web`,"g")
;return-1===e.indexOf(t)&&-1===t.indexOf("-maintenance")&&!1===n.test(t)&&!1===s.test(t)&&!1===o.test(t)&&!1===r.test(t)}(e))||(!t[e]||-1!==t[e])&&(!!("true"===n.getItem(TradingView.FeatureToggle.force_prefix+e)||window.is_authenticated&&"undefined"!=typeof user&&user.settings&&"true"===user.settings[TradingView.FeatureToggle.force_prefix+e])||!("false"===n.getItem(TradingView.FeatureToggle.force_prefix+e)||window.is_authenticated&&"undefined"!=typeof user&&user.settings&&"false"===user.settings[TradingView.FeatureToggle.force_prefix+e])&&(!!t[e]&&(1===t[e]||s(e)<=t[e])))}return TradingView.onWidget()||Promise.all([i.e(38835),i.e(795),i.e(34604)]).then(i.bind(i,501867)).then((e=>{e.pushStreamMultiplexer.on("featuretoggle",(function(e){var i=a(e.name);t[e.name]=e.state,i!==a(e.name)&&r.fire(e.name)}))})),a}(window.featureToggleState||{}),TradingView.FeatureToggle,e.isFeatureEnabled=TradingView.isFeatureEnabled,TradingView.FeatureToggle.onFeaturesStateChanged.bind(TradingView.FeatureToggle)},777754:(t,e,i)=>{"use strict";i.d(e,{t:()=>n});i(586463);function n(t,e={},o){if(null===t)return Array.isArray(o)?(o[s(e.count)]||o[0]).format(e.replace||e):"object"==typeof o?n(null,e,o[i.g.language]||o.en):n(o,e);if(o&&t){const i=`${t}${e.context?`_${e.context}`:""}`;if(o[i])return n(null,e,o[i])}return"number"==typeof t?t.toString():"string"!=typeof t?"":(e.plural&&1!=+e.count?e.plural:t).format(e.replace||e)}const s={ca_ES:(t=1)=>+(1!=t),cs:(t=1)=>+(1==t?0:t>=2&&t<=4?1:2),el:(t=1)=>+(1!=t),da_DK:(t=1)=>+(1!=t),en:(t=1)=>+(1!=t),et_EE:(t=1)=>+(1!=t),fa:(t=1)=>0,hu_HU:(t=1)=>0,id_ID:(t=1)=>0,it:(t=1)=>+(1!=t),ms_MY:(t=1)=>0,no:(t=1)=>+(1!=t),nl_NL:(t=1)=>+(1!=t),ro:(t=1)=>+(1==t?0:t%100>19||t%100==0&&0!=t?2:1),sk_SK:(t=1)=>+(1==t?0:t>=2&&t<=4?1:2),sv:(t=1)=>+(1!=t),zh:(t=1)=>0,zh_TW:(t=1)=>0,de:(t=1)=>+(1!=t),es:(t=1)=>+(1!=t),fr:(t=1)=>+(t>1),he_IL:(t=1)=>+(1==t?0:2==t?1:t>10&&t%10==0?2:3),ko:(t=1)=>0,ja:(t=1)=>0,pl:(t=1)=>+(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2),pt:(t=1)=>+(1!=t),tr:(t=1)=>+(1!=t),vi:(t=1)=>0,ar:(t=1)=>+(0==t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11&&t%100<=99?4:5),ru:(t=1)=>+(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2),th:(t=1)=>0}[i.g.language]},230285:(t,e,i)=>{"use strict";function n(t){return t.includes(":")?t.split(":"):["",t]}i.d(e,{splitSymbolName:()=>n})},79338:(t,e,i)=>{"use strict";var n=i(823127);const s=i(201089).getLogger("CommonUI.CreateTVBlockPlugin");t.exports.createTvBlockWithInstance=function(t,e){if(t&&e)return t=t.toString(),function(o,r,a){var l,h,_;return"get"===o?l=r:(h=r,"object"==typeof o&&void 0===r?(h=o,o="init"):"string"!=typeof o&&(o="init")),"getInstance"===o?n(this).eq(0).data(t):"destroy"===o?(_=n(this).eq(0).data(t))?void("function"==typeof _.destroy?(i(_,"destroy",h),
n(this).eq(0).removeData(t)):s.logError("[Block Plugin] "+t+" does not support destroy command")):void console.warn("[Block Plugin] Trying to execute destroy method of "+t+" but it has not been inited"):"get"===o?(_=n(this).eq(0).data(t))?"function"==typeof _[l]?i(_,l,a):_[l]:void console.warn("[Block Plugin] Trying to get prop or execute method of "+t+" but it has not been inited"):n(this).each((function(){var r=n(this),a=r.data(t);void 0===a&&(a=void 0===h?e(r):e(r,h),r.data(t,a)),"init"!==o&&("function"==typeof a[o]?i(a,o,h):s.logError("[Block Plugin] "+t+" does not support command "+o))}))};function i(t,e,i){return void 0===i?t[e]():t[e](i)}}},542796:(t,e,i)=>{"use strict";var n=i(79338),s=i(778785),o=i(707957),r=i.n(o),a=i(650151);function l(t){const{paddingTop:e,paddingBottom:i}=window.getComputedStyle(t);return[e,i].reduce(((t,e)=>t-Number((e||"").replace("px",""))),t.clientHeight)}function h(t,e=!1){const i=getComputedStyle(t),n=[i.height];return"border-box"!==i.boxSizing&&n.push(i.paddingTop,i.paddingBottom,i.borderTopWidth,i.borderBottomWidth),e&&n.push(i.marginTop,i.marginBottom),n.reduce(((t,e)=>t+(parseFloat(e)||0)),0)}function _(t,e=!1){const i=getComputedStyle(t),n=[i.width];return"border-box"!==i.boxSizing&&n.push(i.paddingLeft,i.paddingRight,i.borderLeftWidth,i.borderRightWidth),e&&n.push(i.marginLeft,i.marginRight),n.reduce(((t,e)=>t+(parseFloat(e)||0)),0)}function d(t){if(!t.getClientRects().length)return{top:0,left:0};const e=t.getBoundingClientRect(),i=(0,a.ensureNotNull)(t.ownerDocument.defaultView);return{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}}function c(t){const e=getComputedStyle(t);let i,n={top:0,left:0};if("fixed"===e.position)i=t.getBoundingClientRect();else{i=d(t);const e=t.ownerDocument;let s=t.offsetParent||e.documentElement;for(;s&&(s===e.body||s===e.documentElement)&&"static"===getComputedStyle(s).position;)s=s.parentElement;s&&s!==t&&1===s.nodeType&&(n=d(s),n.top+=parseFloat(getComputedStyle(s).borderTopWidth),n.left+=parseFloat(getComputedStyle(s).borderLeftWidth))}return{top:i.top-n.top-parseFloat(e.marginTop),left:i.left-n.left-parseFloat(e.marginLeft)}}var p=i(764005),u=i(638456);class g{constructor(t){var e,i;this._helper=null,this._handleDragStart=t=>{var e;if(null!==this._helper)return;const i=this._source;i.classList.add("ui-draggable-dragging");const[n,s]=[_(i),h(i)];this._helper={startTop:parseFloat(i.style.top)||0,startLeft:parseFloat(i.style.left)||0,nextTop:null,nextLeft:null,raf:null,size:[n,s],
containment:this._containment instanceof HTMLElement?[parseInt(getComputedStyle(this._containment).borderLeftWidth)+parseInt(getComputedStyle(this._containment).paddingLeft),parseInt(getComputedStyle(this._containment).borderTopWidth)+parseInt(getComputedStyle(this._containment).paddingTop),this._containment.offsetWidth-parseInt(getComputedStyle(this._containment).borderRightWidth)-parseInt(getComputedStyle(this._containment).paddingRight)-parseInt(getComputedStyle(i).marginLeft)-parseInt(getComputedStyle(i).marginRight)-n,this._containment.offsetHeight-parseInt(getComputedStyle(this._containment).borderBottomWidth)-parseInt(getComputedStyle(this._containment).paddingBottom)-parseInt(getComputedStyle(i).marginTop)-parseInt(getComputedStyle(i).marginBottom)-s]:"window"===this._containment?[window.scrollX,window.scrollY,window.scrollX+document.documentElement.offsetWidth-n,window.scrollY+document.documentElement.offsetHeight-s]:null},null===(e=this._start)||void 0===e||e.call(this)},this._handleDragMove=t=>{var e;if(null===this._helper)return;const{current:i,initial:n}=t.detail,s=this._source,o=this._helper.nextTop,r=this._helper.nextLeft,a="y"===this._axis||!1===this._axis||0!==i.movementY;if(a){const t=this._helper.startTop;isFinite(t)&&(this._helper.nextTop=i.clientY-n.clientY+t)}const l="x"===this._axis||!1===this._axis||0!==i.movementY;if(l){const t=this._helper.startLeft;isFinite(t)&&(this._helper.nextLeft=i.clientX-n.clientX+t)}if(null!==this._helper.containment){const[t,e,i,n]=this._helper.containment;a&&this._helper.nextTop&&(this._helper.nextTop=Math.min(this._helper.nextTop,n),this._helper.nextTop=Math.max(this._helper.nextTop,e)),l&&this._helper.nextLeft&&(this._helper.nextLeft=Math.min(this._helper.nextLeft,i),this._helper.nextLeft=Math.max(this._helper.nextLeft,t))}null!==this._helper.raf||o===this._helper.nextTop&&r===this._helper.nextLeft||(this._helper.raf=requestAnimationFrame((()=>{null!==this._helper&&(null!==this._helper.nextTop&&(s.style.top=this._helper.nextTop+"px",this._helper.nextTop=null),null!==this._helper.nextLeft&&(s.style.left=this._helper.nextLeft+"px",this._helper.nextLeft=null),this._helper.raf=null)}))),null===(e=this._drag)||void 0===e||e.call(this)},this._handleDragStop=t=>{var e;if(null===this._helper)return;this._source.classList.remove("ui-draggable-dragging"),this._helper=null,null===(e=this._stop)||void 0===e||e.call(this)};const n=this._source=t.source;n.classList.add("ui-draggable");const s=this._handle=null!==(e=t.handle?n.querySelector(t.handle):null)&&void 0!==e?e:n;s.classList.add("ui-draggable-handle"),this._start=t.start,this._stop=t.stop,this._drag=t.drag,this._backend=new m({handle:s,onDragStart:this._handleDragStart,onDragMove:this._handleDragMove,onDragStop:this._handleDragStop}),this._axis=null!==(i=t.axis)&&void 0!==i&&i,this._containment=t.containment}destroy(){const t=this._source;t.classList.remove("ui-draggable"),t.classList.remove("ui-draggable-dragging");this._handle.classList.remove("ui-draggable-handle"),this._backend.destroy(),
null!==this._helper&&(this._helper.raf&&cancelAnimationFrame(this._helper.raf),this._helper=null)}}class m{constructor(t){this._initial=null,this._handlePointerDown=t=>{if(null!==this._initial)return;if(!(t.target instanceof Element&&this._handle.contains(t.target)))return;if(this._initial=t,!this._dispatchEvent(this._createEvent("pointer-drag-start",t)))return void(this._initial=null);t.preventDefault();const e=this._getEventTarget();e.addEventListener("pointermove",this._handlePointerMove),e.addEventListener("pointerup",this._handlePointerUp),e.addEventListener("pointercancel",this._handlePointerUp),e.addEventListener("lostpointercapture",this._handlePointerUp),e.setPointerCapture(t.pointerId)},this._handlePointerMove=t=>{null!==this._initial&&this._initial.pointerId===t.pointerId&&(t.preventDefault(),this._dispatchEvent(this._createEvent("pointer-drag-move",t)))},this._handlePointerUp=t=>{if(null===this._initial||this._initial.pointerId!==t.pointerId)return;t.preventDefault();const e=this._getEventTarget();e.removeEventListener("pointermove",this._handlePointerMove),e.removeEventListener("pointerup",this._handlePointerUp),e.removeEventListener("pointercancel",this._handlePointerUp),e.removeEventListener("lostpointercapture",this._handlePointerUp),e.releasePointerCapture(this._initial.pointerId),this._dispatchEvent(this._createEvent("pointer-drag-stop",t)),this._initial=null};const e=this._handle=t.handle;this._onDragStart=t.onDragStart,this._onDragMove=t.onDragMove,this._onDragStop=t.onDragStop,e.style.touchAction="none";this._getEventTarget().addEventListener("pointerdown",this._handlePointerDown)}destroy(){this._handle.style.touchAction="";const t=this._getEventTarget();t.removeEventListener("pointerdown",this._handlePointerDown),t.removeEventListener("pointermove",this._handlePointerMove),t.removeEventListener("pointerup",this._handlePointerUp),t.removeEventListener("pointercancel",this._handlePointerUp),t.removeEventListener("lostpointercapture",this._handlePointerUp),null!==this._initial&&(t.releasePointerCapture(this._initial.pointerId),this._initial=null)}_getEventTarget(){return u.CheckMobile.iOS()||(0,u.isMac)()&&s.touch?window.document.documentElement:this._handle}_dispatchEvent(t){switch(t.type){case"pointer-drag-start":this._onDragStart(t);break;case"pointer-drag-move":this._onDragMove(t);break;case"pointer-drag-stop":this._onDragStop(t)}return!t.defaultPrevented}_createEvent(t,e){return(0,a.assert)(null!==this._initial),new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:{backend:this,initial:this._initial,current:e}})}}const f=[()=>navigator.userAgent.includes("Win")&&navigator.userAgent.includes("Chrome")?1/window.devicePixelRatio:1,()=>16,(t=(()=>0))=>{var e;return.8*(null!==(e=t())&&void 0!==e?e:0)}];i(901574);var b=i(285778);const v={headerHeight:0,additionalClass:"",alwaysVisible:!1,showBottomShadow:!0,scrollMarginTop:1,bubbleScrollEvent:!1};class w{constructor(t,e,i={}){if(this.scrolled=new(r()),this.scrolltoend=new(r()),this.scrolltostart=new(r()),this.visibilityCallbacks=[],
this._scrollTargetTop=0,this._scrollSpeed=40,this._shadowOffset=10,this._shadowTop=null,this._shadowBottom=null,this._dragInitialized=!1,this._dragging=!1,this._draggable=null,this._atStart=!1,this._atEnd=!1,this._stickyBottom=null,this._animation=null,this._saved=null,this._options={...v,...i},this._wrapper=t,this._wrapper.classList.add(b.wrapper),this._content=e,this._headerHeight=this._options.headerHeight,this._scrollMarginTop=this._options.scrollMarginTop,this._scrollBar=document.createElement("div"),this._scrollBar.classList.add("sb-scrollbar","sb-scrollbar-body"),this._options.additionalClass&&this._scrollBar.classList.add(this._options.additionalClass),this._scrollBar.classList.toggle("active-always",this._options.alwaysVisible),this._scrollBarWrapper=document.createElement("div"),this._scrollBarWrapper.classList.add("sb-scrollbar-wrap"),this._touch=s.touch,this._touch)return this._content.style.position="relative",this._wrapper.classList.add(b.touch),void this._wrapper.addEventListener("scroll",(()=>this._onScroll()));this._wrapper.style.overflow="hidden",this._unsubscribe=(()=>{const t=()=>{this._dragging||(this._options.alwaysVisible||this._scrollBar.classList.add("active"),this._onScroll())},e=()=>{this._dragging||(this._options.alwaysVisible||this._scrollBar.classList.remove("active"),this._onScroll())},i=t=>{if(!t.defaultPrevented){const e=function(t,e=(()=>({}))){return{x:t.deltaX*f[t.deltaMode]((()=>e().width)),y:t.deltaY*f[t.deltaMode]((()=>e().height))}}(t,(()=>({height:this._wrapper.clientHeight}))).y;this.scroll(-e,1)||(t.stopPropagation(),t.preventDefault())}};return this._wrapper.addEventListener("mouseenter",t),this._wrapper.addEventListener("mouseleave",e),this._wrapper.addEventListener("wheel",i),()=>{this._wrapper.removeEventListener("mouseenter",t),this._wrapper.removeEventListener("mouseleave",e),this._wrapper.removeEventListener("wheel",i)}})(),!1!==this._options.showTopShadow&&(this._shadowTop=document.createElement("div"),this._shadowTop.classList.add("sb-inner-shadow","top","i-invisible"),this._wrapper.appendChild(this._shadowTop)),!1!==this._options.showBottomShadow&&(this._shadowBottom=document.createElement("div"),this._shadowBottom.classList.add("sb-inner-shadow"),this._wrapper.appendChild(this._shadowBottom)),this._shadowTop&&this._headerHeight&&(this._shadowTop.style.top=this._headerHeight-this._shadowOffset+"px"),this._wrapper.appendChild(this._scrollBarWrapper),this._scrollBarWrapper.appendChild(this._scrollBar),this._onScroll()}isTouch(){return this._touch}getScrollBar(){return this._scrollBar}initDraggable(){return this._dragInitialized||(this._draggable=new g({axis:"y",source:this._scrollBar,containment:this._scrollBarWrapper,start:()=>{this._dragging=!0},stop:()=>{this._dragging=!1},drag:()=>{this.updateScroll()}}),this._dragInitialized=!0),this}updateScroll(){if(this._touch)return this;const t=Math.ceil(c(this._scrollBar).top-this._scrollMarginTop-this._headerHeight),e=this.getContainerHeightWithoutHeader(),i=h(this._content),n=i-e-1
;return e<=0||(this._scrollTargetTop=n<=0?this._headerHeight:Math.min(-t*i/e+this._headerHeight,this._headerHeight),t+l(this._scrollBar)+2>=e?this.scrollToEnd():(this._content.style.top=this._scrollTargetTop+"px",this._onScroll())),this}getContainerHeightWithoutHeader(){return this._wrapper.getBoundingClientRect().height-this._headerHeight}getContainerHeight(){return this._wrapper.getBoundingClientRect().height}getContentHeight(){return this._content.getBoundingClientRect().height}updateScrollBar(){if(this._touch)return this;const t=c(this._content).top,e=this.getContentHeight(),i=this.getContainerHeight(),n=this.getContainerHeightWithoutHeader(),s=1+this._headerHeight,o=n-2,r=(Math.abs(t)-this._headerHeight)*o/e,a=i*i/e;return this.isContentShort()?(this._scrollBar.classList.add("js-hidden"),this._wrapper.classList.remove("sb-scroll-active")):(this._scrollBar.classList.remove("js-hidden"),this._scrollBar.style.height=a+"px",this._scrollBar.style.top=s+r+"px",this._wrapper.classList.add("sb-scroll-active"),this.initDraggable()),this}scroll(t,e){const i=c(this._content).top,n=h(this._content)-this.getContainerHeightWithoutHeader()-1,s=e||this._scrollSpeed;return n<=0||(this._scrollTargetTop=Math.max(-n+this._headerHeight,Math.min(this._headerHeight,i+t*s)),this.setContentTop(this._scrollTargetTop),this._onScroll())}animateTo(t){if(this._touch)return this;const e=h(this._content)-this.getContainerHeightWithoutHeader()-1;if(e<=0)return!0;this._scrollTargetTop=Math.max(-e+this._headerHeight,Math.min(this._headerHeight,-t)),this._animation&&this._animation.stop(),this._animation=(0,p.doAnimate)({duration:500,from:parseFloat(getComputedStyle(this._content).top),to:this._scrollTargetTop,onStep:(t,e)=>{this._content.style.top=e+"px"},onComplete:()=>{this._onScroll()}})}resize(){const t=h(this._content),e=h(this._wrapper);!this._options.vAlignBottom&&t<e?this.atStart()||this.scrollToStart():this.atEnd()?this.scrollToEnd():"number"==typeof this._stickyBottom&&this.setContentTop(Math.min(0,this._stickyBottom+h(this._wrapper)-h(this._content)))}resizeHeader(t){const e=t-this._headerHeight;this._headerHeight=t,this._scrollTargetTop+=e,this._shadowTop&&(this._shadowTop.style.top=this._headerHeight-this._shadowOffset+"px"),this.resize()}scrollTo(t,e){const i={position:"visible",areaHeight:t instanceof HTMLElement?l(t):0,...e};t instanceof HTMLElement&&(t=i.offsetTop||c(t).top);const n=c(this._content).top,s=this._content.getBoundingClientRect().height,o=this.getContainerHeightWithoutHeader();if(s-o-1<=0)return!0;const r=-1*(n-this._headerHeight),a=r+o;let h=0;if("visible"===i.position){if(t>r&&t+i.areaHeight<a)return!1;h=t+i.areaHeight>a?a-t-i.areaHeight:r-t}else"top"===i.position&&(h=r-t);return this.scroll(h,1),this._onScroll(),!1}scrollToEnd(){const t=c(this._content).top,e=h(this._content),i=h(this._wrapper),n=e>i?t+(i-(e+t))+1:1;return this.setContentTop(n),this._onScroll(),this}scrollToStart(){return this.setContentTop(this._headerHeight),this._onScroll(),this}currentPosition(){return Math.round(c(this._content).top)}
atStart(){return Math.round(c(this._content).top)>=this._headerHeight}atEnd(t){"number"==typeof t&&isFinite(t)||(t=0);const e=Math.round(c(this._content).top),i=Math.floor(h(this._content)),n=Math.floor(h(this._wrapper));return i-Math.abs(e)-1<=n+t}checkContentVisibility(){this._onContentVisible()}subscribeToContentVisible(t,e,i){this.visibilityCallbacks.push({id:t,element:e,callback:i})}triggerVisibilityCallbacks(t){this._onContentVisible(t)}save(){return this._saved={top:c(this._content).top,height:h(this._content)},this}restore(){if(this._saved){if(this._saved.top===c(this._content).top&&this._saved.height===h(this._content))return this._saved=null,this;this._options.vAlignBottom&&(this._saved.top-=h(this._content)-this._saved.height,this._saved.top>this._headerHeight&&(this._saved.top=this._headerHeight)),this.setContentTop(this._saved.top),this._saved=null,this._onScroll(!0)}return this}setContentTop(t){return this._touch?this._options.vAlignBottom&&h(this._content)<h(this._wrapper)?(this._wrapper.style.overflowY="visible",this._content.style.position="absolute",this._content.style.bottom="0px"):(this._content.style.position="relative",this._content.style.position="auto",this._wrapper.style.overflowY="auto",this._wrapper.scrollTop=-t):this._content.style.top=t+"px",this}isContentShort(){return this.getContentHeight()<=this.getContainerHeightWithoutHeader()}destroy(){var t;this._animation&&this._animation.stop(),this._scrollBarWrapper&&this._scrollBarWrapper.remove(),this._shadowBottom&&this._shadowBottom.remove(),this._shadowTop&&this._shadowTop.remove(),this._draggable&&(this._draggable.destroy(),this._draggable=null),this._content.style.cssText="",this._wrapper.style.cssText="",null===(t=this._unsubscribe)||void 0===t||t.call(this)}_onScroll(t){this._touch||(this._content.style.bottom="auto"),this.scrolled.fire(),this._dragging&&!0!==t||this.updateScrollBar();const e=this.atStart(),i=this.atEnd();return this._shadowTop&&this._shadowTop.classList.toggle("i-invisible",!!e),this._shadowBottom&&this._shadowBottom.classList.toggle("i-invisible",!!i),this._onContentVisible(),!this._atStart&&e?(this._atStart=!0,this.scrolltostart.fire()):this._atStart&&!e&&(this._atStart=!1),!this._atEnd&&i?(this._atEnd=!0,this.scrolltoend.fire()):this._atEnd&&!i&&(this._atEnd=!1),this._options.vAlignBottom&&(this._stickyBottom=h(this._content)-Math.abs(c(this._content).top)-h(this._wrapper)),(this._atStart||this._atEnd)&&("function"==typeof this._options.bubbleScrollEvent?Boolean(this._options.bubbleScrollEvent()):Boolean(this._options.bubbleScrollEvent))}_contentIsVisible(t){return c(t.element).top>-1*this.currentPosition()}_onContentVisible(t){if(!this.visibilityCallbacks.length)return;const e=t||this._contentIsVisible.bind(this),i=[],n=this.visibilityCallbacks.filter(((t,n)=>{if(!this._content.contains(t.element))return!1;const s=e(t);return s&&i.push(n),!s}));i.forEach((e=>{this.visibilityCallbacks[e].callback(!!t)})),this.visibilityCallbacks=n}}var y=i(541558),T=(i(894615),i(823127));function S(t,e={}){
const i=t.tvSiteWidget("getInstance");if(i)return i;this.$el=t,this.scroll=null,this._options=T.extend({},this.deafultOptions,t.data("tv-feed-widget-options")||{},e),this._fixedHeightElement=null;let n=!1;(this._options.$scrollWrapper||{}).length&&(this._options.$scrollInner||{}).length&&(this.setScrollElements({$scrollWrapper:this._options.$scrollWrapper,$scrollInner:this._options.$scrollInner}),n=!0),this._options.needScroll&&(n||(t.addClass("tv-feed-widget--scrollable"),this.wrapContent()),this.initScroll())}T.fn.tvSiteWidget=(0,n.createTvBlockWithInstance)("tv-feed-widget",(function(t,e){return new S(t,e)})),S.prototype.deafultOptions={needScroll:!1,scrollOptions:{showTopShadow:!0,showBottomShadow:!1,bubbleScrollEvent:!0}},S.prototype._allowedElements=["head","title","body","footer","show-more","scroll-wrapper","scroll-inner","scroll-content"],S.prototype.setScrollElements=function({$scrollWrapper:t,$scrollInner:e}){this.$scrollWrapper=t,this.$scrollInner=e},S.prototype.getElement=function(t){if(-1!==this._allowedElements.indexOf(t))return this._cache||(this._cache={}),this._cache[t]||(this._cache[t]=this.$el.find(".tv-feed-widget__"+t).eq(0)),this._cache[t].length||delete this._cache[t],this._cache[t]},S.prototype._setElement=function(t,e){var i=this.getElement(t);e=e||"",i&&i.length&&i.html(e)},S.prototype.setElements=function(t){var e;t=t||{};for(var i=this._allowedElements.length-1;i>=0;i--)e=this._allowedElements[i],t.hasOwnProperty(e)&&this._setElement(e,t[e])},S.prototype.wrapContent=function(){if(!(this.$scrollWrapper||{}).length||!(this.$scrollInner||{}).length){var t,e,i,n,s=this.$el,o=s.children(".tv-feed-widget__scroll-wrapper"),r=1===o.children().length&&o.children(".tv-feed-widget__scroll-inner"),a=o.length&&r.length,l=this.getElement("head"),h=s.height();a?(t=0,s.children().not(o).each((function(){t+=T(this).outerHeight(!0)})),o.height(h-t)):(e=s.children().not(l),i=(0,y.guid)(),o=T('<div class="tv-feed-widget__scroll-wrapper" id="'+i+'">'),t=l&&l.outerHeight(!0)||0,o.height(h-t),e.wrapAll(o),n=(0,y.guid)(),r=T('<div class="tv-feed-widget__scroll-inner" id="'+n+'">'),e.wrapAll(r),o=s.find("#"+i),r=s.find("#"+n)),this.$scrollWrapper=o,this.$scrollInner=r}},S.prototype.initScroll=function(){!this.scroll&&(this.$scrollWrapper||{}).length&&(this.$scrollInner||{}).length&&(this.scroll=new w(this.$scrollWrapper[0],this.$scrollInner[0],this._options.scrollOptions))},S.prototype.destroyScroll=function(){this.scroll&&(this.scroll.destroy(),delete this.scroll)}},764005:(t,e,i)=>{"use strict";i.d(e,{doAnimate:()=>o});const n={from:0,duration:250,easing:i(81979).easingFunc.easeOutCubic};class s{constructor(t){this._doing=!0,this._completed=!1,this._options={...n,...t};const e=performance.now();window.requestAnimationFrame((t=>{this._animation(e,this._options.from,t)}))}stop(){this._doing=!1}completed(){return this._completed}_animation(t,e,i){if(!this._doing)return void this._finishAnimation()
;const n=(i=!i||i<1e12?performance.now():i)-t,s=n>=this._options.duration||e===this._options.to,o=(r=this._options.from,a=this._options.to,l=this._options.easing(n/this._options.duration),r*(1-l)+a*l);var r,a,l;const h=s?this._options.to:o,_=h-e;this._options.onStep(_,h),s?this._finishAnimation():window.requestAnimationFrame((e=>{this._animation(t,h,e)}))}_finishAnimation(){this._options.onComplete&&this._options.onComplete(),this._completed=!0}}function o(t){return new s(t)}},81979:(t,e,i)=>{"use strict";i.d(e,{dur:()=>n.dur,easingFunc:()=>n.easingFunc});var n=i(745269)}}]);